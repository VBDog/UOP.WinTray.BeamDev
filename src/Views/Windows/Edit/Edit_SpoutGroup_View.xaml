<Window x:Class="UOP.WinTray.UI.Views.Edit_SpoutGroup_View"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UOP.WinTray.UI.Views.Windows"
        xmlns:behavious="clr-namespace:UOP.WinTray.UI.Behaviors"
        xmlns:customControl="clr-namespace:UOP.WinTray.UI.CustomControls.UserControls"       
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs" xmlns:conv="clr-namespace:UOP.WinTray.UI.Converters"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
        xmlns:waitIndicator="clr-namespace:UOP.WinTray.UI.CustomControls.AdornerControl" 
        xmlns:dxfgraphiccontrol="clr-namespace:UOP.DXFGraphicsControl;assembly=UOP.DXFGraphicsControl"
        md:DialogServiceViews.IsRegistered="True"
        xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels" 
        d:DataContext="{d:DesignInstance Type=viewmodels:Edit_SpoutGroup_ViewModel}"
        SizeToContent="WidthAndHeight"
        mc:Ignorable="d" 
        Title="Edit Spout Group Properties" 
        Width="831" 
        Style="{StaticResource PopUpWindowTheme}"  
        WindowStartupLocation="CenterOwner"  
        Loaded="Window_Loaded"
        Unloaded="Window_Unloaded"
        ResizeMode="NoResize"
        >
    <Window.Resources>
        <conv:BooleanToVisibilityConverter x:Key="visibiliyConverter" />
        <conv:TextToColorConverter x:Key="textToColorConverter"/>
        <conv:EnumToCollectionConverter x:Key="enumToCollectionConverter" />

        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>
    <!--<i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <ei:CallMethodAction MethodName="DisplayEditSpoutsGroup"  TargetObject="{Binding}"></ei:CallMethodAction>
        </i:EventTrigger>
    </i:Interaction.Triggers>-->
    <!--<ScrollViewer VerticalScrollBarVisibility="Auto">-->

    <Grid Margin="0,0,0,0">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5*"/>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="5*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="25"/>

        </Grid.RowDefinitions>

        <dxfgraphiccontrol:DXFViewer 
                Grid.Column="2" Grid.RowSpan="2"
                x:Name="cadfxDxfViewerEditSpouts" 
                Background="Gray" 
                Margin="5,5,5,5" 
                MinHeight="600" 
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                 BorderBrush="Black"
                 BorderThickness="1" 
   
           
                />

        <!--<xceed:BusyIndicator IsBusy="{Binding IsBusyVisible,Mode=TwoWay}" Grid.Column="1">
            <xceed:BusyIndicator.BusyContent>
                <StackPanel Orientation="Horizontal">
                    <StackPanel Margin="5,0">
                        <waitIndicator:LoadingWait/>
                        <TextBlock Text="{Binding BusyMessage, Mode=TwoWay}" FontSize="20" HorizontalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </xceed:BusyIndicator.BusyContent>
            <xceed:BusyIndicator.OverlayStyle>
                <Style TargetType="Rectangle">
                    <Setter Property="Fill" Value="Black" />
                    <Setter Property="Opacity" Value="0.3" />
                </Style>
            </xceed:BusyIndicator.OverlayStyle>
            <xceed:BusyIndicator.ProgressBarStyle>
                <Style TargetType="ProgressBar">
                    <Setter Property="Visibility" Value="Collapsed" />
                </Style>
            </xceed:BusyIndicator.ProgressBarStyle>-->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="35*"/>
                <RowDefinition Height="35*"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Vertical" Grid.Row="0">
                <GroupBox BorderThickness="1" Name="ConstraintsGroupBox" BorderBrush="Black" Header="Constraints" Margin="3"
                              Visibility="{Binding Visibility_ConstraintsFrame}" 
                             VerticalAlignment="Bottom">

                    <Grid >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>

                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>

                        </Grid.ColumnDefinitions>

                        <Grid Grid.Row="0">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="200"/>
                            </Grid.ColumnDefinitions>
                            <!--LEFT COLUMN-->
                            <StackPanel Orientation="Vertical" Grid.Row="0" Grid.Column="0">
                                <!--PATTERN-->
                                <StackPanel Orientation="Horizontal">
                                    <Label Style="{StaticResource LabelStyle}" Content="Spout Pattern : " />

                                    <ComboBox Style="{StaticResource ComboBoxStyle}"
                                      ItemsSource="{Binding PatternTuples, Mode=TwoWay}"                                                                                                                 
                                      SelectedValue="{Binding SelectedPatternType}"
                                      SelectedValuePath="Item2"
                                      DisplayMemberPath="Item1"
                                      Height="20"
                                      
                                      Margin="0,2,0,4"/>
                                </StackPanel>
                                <!--SPOUT DIAMETER-->
                                <!--<StackPanel Orientation="Horizontal">

                                    <Label Style="{StaticResource LabelStyle}" Content="Spout Diameter : " />
                                    <customControl:NumericTextBoxSpinControl  x:Name="SpoutDiameter" Value="{Binding ConstraintSpoutDiameter, TargetNullValue=''}" 
                                IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                              DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked" 
                                                              LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                              IsEnabled="False"
                                                              IsTextEnabled ="False"
                                                              behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                              HorizontalAlignment="Left"
                                                              Height="20" />
                                </StackPanel>-->
                                <!--CLEARANCE-->
                                <StackPanel Orientation="Horizontal" Margin="23,0,0,0">

                                    <Label Style="{StaticResource LabelStyle}" Content="Clearance :"/>
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintClearance,Mode=TwoWay, TargetNullValue=''}"
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             IsEnabled="True"
                                                             IsTextEnabled= "True"
                                                             x:Name="Clearance"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             HorizontalAlignment="Left"
                                                             Height="20" />
                                </StackPanel>
                                <!--MARGIN-->
                                <StackPanel Orientation="Horizontal" Margin="38,0,0,0">
                                    <Label Style="{StaticResource LabelStyle}" Content="Margin :" />
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintMargin, Mode=TwoWay, TargetNullValue=''}" 
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                             IsTextEnabled="True"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="Margin"
                                                             HorizontalAlignment="Left"
                                                                             
                                                             Height="20" />
                                </StackPanel>

                                <!--END PLATE CLEARANCE-->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,0" Visibility="{Binding Visibility_EndPlateClearance}" >
                                    <Label Style="{StaticResource LabelStyle}" Content="End Plate Clrc. :"/>
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintEndPlateClearance, Mode=TwoWay, TargetNullValue=''}" 
                                                             
                                                            
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="EndPlateClearance"
                                                             Height="20" />

                                </StackPanel>
                            </StackPanel>
                            <!--RIGHT COLUMN-->
                            <StackPanel Orientation="Vertical"  Grid.Column="1">
                                <!--VERTICAL PITCH-->
                                <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="1" Margin="0,0,0,0" Visibility="{Binding Visibility_VerticalPitch}">
                                    <Label Style="{StaticResource LabelStyle}" Content="Vertical Pitch : "/>
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintVerticalPitch, TargetNullValue=''}" 
                                                        
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="VerticalPitch"
                                                             HorizontalAlignment="Left"
                                                                         Height="20"/>

                                </StackPanel>
                                <!--SLOT LENGTH-->
                                <StackPanel Orientation="Horizontal"  Margin="9,0,0,0" Visibility="{Binding Visibility_SlotLength}" >
                                    <Label Style="{StaticResource LabelStyle}" Content="Slot Length : " />
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintSpoutLength, TargetNullValue=''}"
                                                           
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="SpoutLength"
                                                             HorizontalAlignment="Left"
                                                             Height="20"/>
                                </StackPanel>

                                <!--HORIZONTAL-->
                                <!--<StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="1">
                                <Label Style="{StaticResource LabelStyle}" Content="Horizontal Pitch : "/>
                                <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintHorizontalPitch, TargetNullValue=''}" 
                                                             IsEnabled="False" 
                                                             IsTextEnabled="False"  
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="HorizontalPitch"
                                                             HorizontalAlignment="Left"
                                                             Height="20" />
                            </StackPanel>-->
                                <!--SPOUT COUNT-->
                                <StackPanel Orientation="Horizontal"  Margin="4,0,0,0" Visibility="{Binding Visibility_SpoutCount}">
                                    <Label Style="{StaticResource LabelStyle}" Content="Spout Count : " />
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintSpoutCount, Mode=TwoWay, TargetNullValue=''}"
                                                            
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="SpoutCount"
                                                             HorizontalAlignment="Left"
                                                                         Height="20"/>
                                </StackPanel>

                                <!--Y OFFSET-->
                                <StackPanel Orientation="Horizontal"  Margin="29,0,0,0" Visibility="{Binding Visibility_YOffset}" >

                                    <Label Style="{StaticResource LabelStyle}" Content="Y Offset : " />
                                    <customControl:NumericTextBoxSpinControl Value="{Binding ConstraintYOffset, TargetNullValue=''}" 
                                                            
                                                         
                                                             IncreaseClicked="NumericTextBoxSpinControl_IncreaseClicked"
                                                             DecreaseClicked="NumericTextBoxSpinControl_DecreaseClicked"
                                                             LostFocus="NumericTextBoxSpinControl_TextBoxLostFocus"
                                                              KeyDown="NumericTextBoxSpinControl_KeyDown"
                                                             behavious:EnterKeyHelpers.EnterKeyCommand="{Binding Command_ApplyConstraints}"
                                                             x:Name="YOffset"
                                                             HorizontalAlignment="Left" Height="20"/>
                                </StackPanel>
                            </StackPanel>
                        </Grid>

                        <Label VerticalContentAlignment="Center" Content="blank values indicate that default values will be used"  Foreground="Blue" Grid.Row="1" Grid.Column="0" />
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                            <!--<Button Content="Cancel" Command="{Binding Command_CancelConstraints}" IsEnabled="{Binding IsCancelConstraintsEnabled}" Style="{StaticResource GlobalButtonStyle}" Margin="0,0,90,0" IsCancel="{Binding ElementName=ConstraintsGroupBox, Path=IsVisible}"/>-->
                            <Button Content="Cancel" Command="{Binding Command_CancelConstraints}" Style="{StaticResource GlobalButtonStyle}" Width="60"  Margin="0,0,5,0"  IsCancel="{Binding IsEscapeDisabled}" ToolTip="Cancel Constraint Editing - Discard Changes"/>
                            <Button Content="Reset" Command="{Binding Command_ResetConstraints}" Style="{StaticResource GlobalButtonStyle}" Width="60" Margin="0,0,5,0" ToolTip="Reset To Original Constraint Values"/>
                            <Button Content="Refresh" Command="{Binding Command_RefreshConstraints}" Style="{StaticResource GlobalButtonStyle}" Width="60" Margin="0,0,5,0" ToolTip="Reset To Currently Saved Constraint Values"/>
                            <Button Content="Clear" Command="{Binding Command_ClearConstraints}" Style="{StaticResource GlobalButtonStyle}" Width="60" Margin="0,0,5,0" ToolTip="Reset All Constraints To Defaults"/>
                            <Button Content="Apply" Command="{Binding Command_ApplyConstraints}" Style="{StaticResource GlobalButtonStyle}" Width="60" Margin="0,0,5,0" ToolTip="Apply The Current Constraints"/>
                        </StackPanel>

                    </Grid>

                </GroupBox>
            </StackPanel>
            <GroupBox Grid.Row="1" BorderThickness="1" BorderBrush="Black" Margin="3,0,3,0" Header="Spout Group Properties" >
                <Grid Margin="0,1,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="400"/>

                    </Grid.ColumnDefinitions>
                    <Grid Grid.Row="0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="1*"/>

                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="200"/>

                        </Grid.ColumnDefinitions>

                        <!-- Left column-->
                        <StackPanel Orientation="Vertical" Grid.Column="0">
                            <!-- Pattern type-->
                            <StackPanel Orientation="Horizontal" Margin="12,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Spout Pattern :"/>
                                <Label Content="{Binding PatternType, Mode=OneWay}" Foreground="{Binding PatternTypeForeColor, Mode=OneWay, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            </StackPanel>
                            <!-- Spout diameter-->
                            <StackPanel Orientation="Horizontal" Margin="2,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Spout Diameter :" />
                                <Label Content="{Binding SpoutDiameter, Mode=OneWay}" Foreground="{Binding SpoutDiameterForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            </StackPanel>
                            <!-- Spout length-->
                            <StackPanel Orientation="Horizontal" Margin="14,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Spout Length :" />
                                <Label Content="{Binding SpoutLength, Mode=OneWay}"  Foreground="{Binding SpoutLengthForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <!-- vertical pitch-->
                            <StackPanel Orientation="Horizontal" Margin="16,0,0,0" Visibility="{Binding Visibility_ActualVPitch}">
                                <Label Style="{StaticResource LabelStyle}" Content="Vertical Pitch :" />
                                <Label Content="{Binding VerticalPitch, Mode=OneWay}" Foreground="{Binding VerticalPitchForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"  />
                            </StackPanel>
                            <!-- horizontal pitch-->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,0" Visibility="{Binding Visibility_ActualHPitch}">
                                <Label Style="{StaticResource LabelStyle}" Content="Horizontal Pitch :"/>
                                <Label Content="{Binding HorizontalPitch,Mode=OneWay}" Foreground="{Binding HorizontalPitchForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center" />
                            </StackPanel>
                            <!-- horizontal pitch-->
                            <StackPanel Orientation="Horizontal" Margin="18,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Spout Count :" />
                                <Label Content="{Binding SpoutCount, Mode=OneWay}" Foreground="{Binding SpoutCountForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>

                        </StackPanel>
                        <!--Right column-->
                        <StackPanel Orientation="Vertical" Grid.Column="2">
                            <!-- applied claerance-->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Applied Clearance :" />
                                <Label Content="{Binding AppliedClearance,Mode=OneWay}" Foreground="{Binding AppliedClearanceForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <!-- actual claerance-->
                            <StackPanel Orientation="Horizontal" Margin="7,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Actual Clearance :"/>
                                <Label Content="{Binding ActualClearance, Mode=OneWay}" Foreground="{Binding ActualClearanceForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>

                            <!-- applied margin-->
                            <StackPanel Orientation="Horizontal" Margin="13,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Applied Margin :"/>
                                <Label Content="{Binding AppliedMargin, Mode=OneWay}" Foreground="{Binding AppliedMarginForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <!-- actual margin-->
                            <StackPanel Orientation="Horizontal" Margin="20,0,0,0">
                                <Label Style="{StaticResource LabelStyle}" Content="Actual Margin :" />
                                <Label Content="{Binding ActualMargin, Mode=OneWay}" VerticalAlignment="Center"  Foreground="{Binding ActualMarginForeColor, Converter={StaticResource textToColorConverter}}" />
                            </StackPanel>
                            <!-- applied EP Clearance-->
                            <StackPanel Orientation="Horizontal" Margin="4,0,0,0" Visibility="{Binding Visibility_AppliedEndPlateClearance}">
                                <Label Style="{StaticResource LabelStyle}" Content="Applied EP Clrnc. :"  />
                                <Label Content="{Binding AppliedEPClearance, Mode=TwoWay}" Foreground="{Binding AppliedEPClearanceForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>
                            <!-- actual EP Clearance-->
                            <StackPanel Orientation="Horizontal" Margin="12,0,0,0" Visibility="{Binding Visibility_AppliedEndPlateClearance}">

                                <Label Style="{StaticResource LabelStyle}" Content="Actual EP Clrnc. :"  />
                                <Label Content="{Binding ActualEPClearance, Mode=TwoWay}" Foreground="{Binding ActualEPClearanceForeColor, Converter={StaticResource textToColorConverter}}" VerticalAlignment="Center"/>
                            </StackPanel>

                        </StackPanel>
                    </Grid>
                    <!--<Label VerticalContentAlignment="Center" Content="blank values indicate that default values will be used"  Foreground="Blue" Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="4"/>-->
                    <StackPanel Margin="3,5,0,0" Orientation="Horizontal" Grid.Row="1" >
                        <CheckBox Content="SetTo Ideal" Margin="0,0,10,0" IsChecked="{Binding IsSetToIdeal, Mode=OneWay}" IsEnabled="False"/>
                        <CheckBox Content="Group Member" Margin="0,0,10,0" IsChecked="{Binding IsGroupMember, Mode=OneWay}" IsEnabled="False"/>
                        <CheckBox Content="Metric Spouts" Margin="0,0,10,0" IsChecked="{Binding IsMetricSpouts, Mode=OneWay}" IsEnabled="False"/>
                    </StackPanel>
                    <StackPanel Margin="2,1,0,0" Orientation="Horizontal" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="4">
                        <Label FontWeight="Bold" Content="Ideal Area:" Style="{StaticResource LabelStyle}"/>
                        <Label Content="{Binding IdealArea, Mode=OneWay}" HorizontalAlignment="Left" 
                                                                HorizontalContentAlignment="Left" 
                                                                Foreground="{Binding IdealAreaForeColor, Converter={StaticResource textToColorConverter}}"
                                                                VerticalAlignment="Bottom"  
                                                                Margin="0,0,12,0"/>
                        <Label FontWeight="Bold" Content="Area:" Style="{StaticResource LabelStyle}"/>
                        <Label Content="{Binding ActualArea, Mode=OneWay}" 
                               Foreground="{Binding ActualAreaForeColor, Converter={StaticResource textToColorConverter}}"
                               HorizontalAlignment="Left" HorizontalContentAlignment="Left" VerticalAlignment="Bottom"  Margin="0,0,12,0"/>
                        <Label FontWeight="Bold" Content="Error(%):" Style="{StaticResource LabelStyle}"/>
                        <Label Content="{Binding ErrorPercent, Mode=OneWay}" 
                               Background="{Binding ErrorPercentForeColor, Converter={StaticResource textToColorConverter}}"
                               HorizontalAlignment="Left" HorizontalContentAlignment="Left" VerticalAlignment="Bottom"  Margin="0,0,12,0"/>
                    </StackPanel>
                    <StackPanel Margin="10,5,0,0" Orientation="Horizontal" Grid.Row="4" Grid.ColumnSpan="4">
                        <CheckBox Content="Apply Changes To All Group Members?" VerticalAlignment="Center" Margin="0,0,25,0"
                                  IsChecked="{Binding ApplyChangesToAllGroupMembers}"
                                      Visibility="{Binding Visibility_ApplyToGoupMember}"
                                 />
                        <Button Content="Constraints" Style="{StaticResource GlobalButtonStyle}"  Visibility="{Binding Visibility_ConstraintsButton}" Command="{Binding Command_ShowConstraints}" />
                    </StackPanel>
                </Grid>
            </GroupBox>
            <!-- BUTTON BAR -->
            <Border Grid.Row="2" Style="{StaticResource GlobalBorderStyle}" Visibility="{Binding Visibility_ControlBox}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="CancelButton" Content="Cancel" Grid.Column="0" Command="{Binding  Command_Cancel}" IsCancel="{Binding IsEscapeEnabled}" Style="{StaticResource GlobalButtonStyle}"  />
                    <Button x:Name="OKButton" Content="OK" Grid.Column="3" Command="{Binding Command_Ok}" Style="{StaticResource GlobalButtonStyle}" />

                </Grid>

            </Border>

            <!-- STATUS BAR -->

            <Border  Grid.Row="4" Style="{StaticResource GlobalBorderStyle}">
                <Grid >
                    <Label Content="{Binding GlobalProjectTitle}"  HorizontalAlignment="Left" Width="auto" />
                    <ToggleButton 
                         CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        Style="{StaticResource UnitsToggleButtonStyle_Small}"  
                        IsChecked="{Binding IsEnglishSelected,Mode=TwoWay }"
                        Height="20"
                        FontSize="8"
                        HorizontalAlignment="Right" 
                            Margin="0,0,20,0"
                        />

                </Grid>
            </Border>

        </Grid>

        <!--</xceed:BusyIndicator>-->
    </Grid>
    <!--</ScrollViewer>-->
</Window>
