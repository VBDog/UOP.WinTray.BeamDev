<Window x:Class="UOP.WinTray.UI.Views.Windows.Edit_MDDesignOptions_View"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UOP.WinTray.UI.Views.Windows"
        xmlns:conv="clr-namespace:UOP.WinTray.UI.Converters"
        xmlns:autolocator ="clr-namespace:UOP.WinTray.UI"
        xmlns:CustomProperty="clr-namespace:UOP.WinTray.UI.Behaviors"
        xmlns:waitIndicator="clr-namespace:UOP.WinTray.UI.CustomControls.AdornerControl"
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
         xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels"
        d:DataContext="{d:DesignInstance Type=viewmodels:Edit_MDDesignOptions_ViewModel}"
        md:DialogServiceViews.IsRegistered="True"
        mc:Ignorable="d"
        SizeToContent="WidthAndHeight"
        MaxHeight="{x:Static SystemParameters.MaximizedPrimaryScreenHeight}"        
        xmlns:data="clr-namespace:UOP.WinTray.UI.ViewModels"
        xmlns:CC="clr-namespace:UOP.WinTray.UI.CustomControls"
        xmlns:winTrayUI="clr-namespace:UOP.WinTray.UI" xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        Title="Edit Design Options Properties" Style="{StaticResource PopUpWindowTheme}" WindowStartupLocation="CenterOwner"
        FocusManager.FocusedElement="{Binding ElementName=MaxRingClipSpacing}" 
                  Loaded="Window_Loaded"
        Unloaded="Window_Unloaded"

        >
    <Window.Resources>
        <conv:EnumToCollectionConverter x:Key="enumToCollectionConverter"/>
  
    </Window.Resources>
    
    <Grid Margin="5,5,5,5">
        <!--Main Grid-->
        <Grid.RowDefinitions>
            <RowDefinition Height="10*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Row="0" Style="{StaticResource GlobalBorderStyle}">
            <StackPanel Orientation="Vertical">
                <Label x:Name="lblSectionName" Content="Design Options Data Input" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" FontWeight="Medium" Grid.Row="0"/>

            </StackPanel>
        </Border>
        <Border Grid.Row="1" Style="{StaticResource GlobalBorderStyle}" Visibility="{Binding VisibilityErrorMessage}">
            <Grid >
                <TextBlock
                            x:Name="ErrorMessage"
                            Text="{Binding ErrorMessage, Mode=OneWay}"
                           Style="{StaticResource GlobalErrorMessageStyle}"
                        />
            </Grid>
        </Border>
        <Border Grid.Row="2"  Style="{StaticResource GlobalBorderStyle}">
            <Grid >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="5"/>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="5"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel  Grid.Column="1" Orientation="Vertical" Margin="0,0,0,0" HorizontalAlignment="Stretch">
                    <!-- BEGIN LEFT DATA COLUMN-->

                    <!--  MaxRingClipSpacing  -->
                    <StackPanel x:Name="stackMaxRingClipSpacing" Style="{StaticResource GlobalPropertyStackStyle}" Margin="40,0,0,0">
                        <TextBlock Text="Ring Clip Spacing (Max) : " Style="{StaticResource GlobalUnitsCaption}" Foreground="{Binding ForegroundColor_RCSpaceMax}" />

                        <CC:NumericTextBox  x:Name="MaxRingClipSpacing"
                                    Text="{Binding MaxRingClipSpacing, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_RCSpacing}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    Foreground="{Binding ForegroundColor_RCSpaceMax}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        
                        <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>
                    <!--  MoonClipSpacing  -->
                    <StackPanel x:Name="stkMoonRingClipSpacing" Style="{StaticResource GlobalPropertyStackStyle}" Margin="31,0,0,0">
                        <TextBlock Text="Ring Clip Spacing (Moon) : " Style="{StaticResource GlobalUnitsCaption}"  Foreground="{Binding ForegroundColor_RCSpaceMoon}"/>

                        <CC:NumericTextBox  x:Name="MoonRingClipSpacing"
                                    Text="{Binding MoonRingClipSpacing, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_RCSpacing}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                            Foreground="{Binding ForegroundColor_RCSpaceMoon}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>
                    <!--  JoggleBoltSpacing  -->
                    <StackPanel x:Name="stkJoggleBoltSpacing" Style="{StaticResource GlobalPropertyStackStyle}" Margin="31,0,0,0">
                        <TextBlock Text="Splice Angle Bolt Spacing : " Style="{StaticResource GlobalUnitsCaption}"  Foreground="{Binding ForegroundColor_BoltSpacing}"/>

                        <CC:NumericTextBox  x:Name="JoggleBoltSpacing"
                                    Text="{Binding JoggleBoltSpacing, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Bolt Spacing For Splice Angles and Joggle Splices"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                             Foreground="{Binding ForegroundColor_BoltSpacing}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>

                    <!--  JoggleAngle  -->
                    <StackPanel x:Name="stkJoggleAngle" Style="{StaticResource GlobalPropertyStackStyle}" Margin="10,0,0,0">
                        <TextBlock Text="Down Angle Height (Joggles) : " Style="{StaticResource GlobalUnitsCaption}"  />

                        <CC:NumericTextBox  x:Name="JoggleAngle"
                                    Text="{Binding JoggleAngle, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Height of the Down Angle for Deck Joggle Splices"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>

                    <!--  SpliceAngle  -->
                    <StackPanel x:Name="stkSpliceAngle" Style="{StaticResource GlobalPropertyStackStyle}" Margin="14,0,0,0">
                        <TextBlock Text="Down Angle Height (Splices) : " Style="{StaticResource GlobalUnitsCaption}"  />

                        <CC:NumericTextBox  x:Name="SpliceAngle"
                                    Text="{Binding SpliceAngle, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Height of the Down Angle for Splice and Manway Angle Splice Plates"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>
                    <!-- CDP -->
                    <StackPanel x:Name="stackCDP" Style="{StaticResource GlobalPropertyStackStyle}" Margin="55,0,0,0" Visibility="{Binding VisibilityECMD}">
                        <TextBlock Text="Deflect Height (CDP) : " Style="{StaticResource GlobalUnitsCaption}"  Foreground="{Binding ForegroundColor_CDP}" />

                        <CC:NumericTextBox  x:Name="CDP"
                                    Text="{Binding CDP, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip ="{Binding ToolTip_CDP}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    Foreground="{Binding ForegroundColor_CDP}"
                                   PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>

                    <!-- BaffleMountPercentage -->
                    <StackPanel x:Name="stackBaffleMountPercentage" Style="{StaticResource GlobalPropertyStackStyle}" Margin="14,0,0,0" Visibility="{Binding VisibilityECMD}">
                        <TextBlock Text="Deflector Mount Percentage : " Style="{StaticResource GlobalUnitsCaption}"  Foreground="{Binding ForegroundColor_BaffleMount}" />

                        <CC:NumericTextBox  x:Name="BaffleMountPercentage"
                                    Text="{Binding BaffleMountPercentage, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip ="{Binding ToolTip_BaffleMount}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Foreground="{Binding ForegroundColor_BaffleMount}"
                                    Margin="1,1,5,0" 
                                   PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label  Content = "%"  Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>

                    <!-- Device  -->
                    <StackPanel x:Name="stackFlowDeviceType" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="72,5,0,0">
                        <TextBlock Text="Flow Device Type : " Style="{StaticResource GlobalUnitsCaption}" />
                        <ComboBox 
                                    ItemsSource="{Binding FlowDeviceType, Converter={StaticResource enumToCollectionConverter}, Mode=TwoWay}"
                                    SelectedValue="{Binding FlowDeviceType}" 
                                    Style="{StaticResource ComboBoxStyle}" 
                                    SelectedValuePath="Item2" 
                                    DisplayMemberPath="Item1" 
                                 />

                    </StackPanel>
                    <!-- FEDHeight  -->
                    <StackPanel x:Name="stackFEDHeight" Style="{StaticResource GlobalPropertyStackStyle}" Margin="37,2,0,0" Visibility="{Binding Visiblity_DeviceData}">
                        <TextBlock Text="{Binding Caption_FEDorAPPHeight}"  Style="{StaticResource GlobalUnitsCaption}"   Foreground="{Binding ForegroundColor_FEDorAPPHeight}"/>

                        <CC:NumericTextBox  x:Name="FEDorAPPHeight"
                                    Text="{Binding FEDorAPPHeight, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_FEDorAPPHeight}" 
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                     Foreground="{Binding ForegroundColor_FEDorAPPHeight}"
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>
                </StackPanel>

                <StackPanel  Grid.Column="2" Orientation="Vertical" Margin="15,0,0,0" HorizontalAlignment="Stretch">
                    <!-- BEGIN Right DATA COLUMN-->

                    <!--  BOTTOM DC HEIGHT -->
                    <StackPanel x:Name="stackBottomDCHeight" Style="{StaticResource GlobalPropertyStackStyle}" Margin="5,10,0,0">
                        <TextBlock Text="Bottom DC Height : " Style="{StaticResource GlobalUnitsCaption}"  />
                        <CC:NumericTextBox  x:Name="BottomDCHeight"
                                    Text="{Binding BottomDCHeight, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Bottom Downcomer Height"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                        <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                    </StackPanel>
                

                <!-- Bubble Promoters  -->
                    <StackPanel x:Name="stackHasBubblePromoters" Style="{StaticResource GlobalPropertyStackStyle}" Margin="0,3,10,0" HorizontalAlignment="Left" >
                      
                        <CheckBox  x:Name="HasBubblePromoters"
                                     ToolTip="Deck Has Bubble Promoters?"
                                    CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                                    Style="{StaticResource YesNoSlider}"  
                                    IsChecked="{Binding HasBubblePromoters, Mode=TwoWay }"
                                />
                        <TextBlock Text="Bubble Promoters" Style="{StaticResource GlobalUnitsCaption}" Margin="10,0,0,0" />
                    </StackPanel>
                    <!-- WeldedStiffeners  -->
                    <StackPanel x:Name="stackWeldedStiffeners" Style="{StaticResource GlobalPropertyStackStyle}" Margin="0,3,0,0" HorizontalAlignment="Left" >
                       
                        <CheckBox  x:Name="WeldedStiffeners"
                                     ToolTip="Weld Stiffeners Into Downcomers?"
                                    CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                                    Style="{StaticResource YesNoSlider}"  
                                    IsChecked="{Binding WeldedStiffeners, Mode=TwoWay }"
                                />
                        <TextBlock Text="Welded Stiffeners" Style="{StaticResource GlobalUnitsCaption}"  Margin="10,0,0,0" />
                    </StackPanel>
                </StackPanel>
            </Grid>
            
        </Border>
        <!-- BUTTON BAR -->
        <Border Grid.Row="3" Style="{StaticResource GlobalBorderStyle}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>
                <Button x:Name="CancelButton" Content="Cancel" Grid.Column="0" Command="{Binding  Command_Cancel}" Style="{StaticResource GlobalButtonStyle}" IsCancel="True" IsEnabled="{Binding IsEnabled}"/>
                <Button x:Name="OKButton" Content="OK" Grid.Column="3" Command="{Binding Command_Ok}" Style="{StaticResource GlobalButtonStyle}"  IsEnabled="{Binding IsOkBtnEnable}" />

            </Grid>

        </Border>
        <!-- STATUS BAR -->

        <Border  Grid.Row="4" Style="{StaticResource GlobalBorderStyle}">
            <Grid >
                <Label Content="{Binding GlobalProjectTitle}"  HorizontalAlignment="Left" Width="auto" />
                <ToggleButton 
                         CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        Style="{StaticResource UnitsToggleButtonStyle_Small}"  
                        IsChecked="{Binding IsEnglishSelected,Mode=TwoWay }"
                        Height="20"
                        FontSize="8"
                        HorizontalAlignment="Right" 
                            Margin="0,0,20,0"
                        />

            </Grid>
        </Border>
    </Grid>
</Window>
