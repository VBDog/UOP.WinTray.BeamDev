<Window x:Class="UOP.WinTray.UI.Views.Edit_MDRange_View"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
        xmlns:local="clr-namespace:UOP.WinTray.UI.Views.UserControls"
        xmlns:conv="clr-namespace:UOP.WinTray.UI.Converters"             
        xmlns:winTrayUI="clr-namespace:UOP.WinTray.UI"
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
        xmlns:CC="clr-namespace:UOP.WinTray.UI.CustomControls"
         xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels"
        d:DataContext="{d:DesignInstance Type=viewmodels:Edit_MDRange_ViewModel}"
        md:DialogServiceViews.IsRegistered="True"
        xmlns:waitIndicator="clr-namespace:UOP.WinTray.UI.CustomControls.AdornerControl"
        xmlns:CustomProperty="clr-namespace:UOP.WinTray.UI.Behaviors"
        xmlns:autolocator ="clr-namespace:UOP.WinTray.UI" xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        mc:Ignorable="d" 
        SizeToContent="Height"
       
        MaxHeight="{x:Static SystemParameters.MaximizedPrimaryScreenHeight}"        
        Width="740"
       
        Style="{StaticResource PopUpWindowTheme}" 
        WindowStartupLocation="CenterOwner"
        FocusManager.FocusedElement="{Binding ElementName=RingStart}" 
       Loaded="Window_Loaded"
Unloaded="Window_Unloaded"
        >
    <Window.Resources>
        <!--<conv:BooleanToVisibilityConverter x:Key="visibiliyConverter" ></conv:BooleanToVisibilityConverter>
        <conv:InverseBooleanConverter x:Key="inverseBooleanConverter" ></conv:InverseBooleanConverter>-->
    </Window.Resources>

    <!--<xceed:BusyIndicator IsBusy="{Binding IsBusyVisible,Mode=TwoWay}" Grid.Column="0" Margin="0,0,0,-18">
        <xceed:BusyIndicator.BusyContent>
            <StackPanel Orientation="Horizontal">
                <StackPanel Margin="5,0">
                    <waitIndicator:LoadingWait/>
                    <TextBlock Text="{Binding BusyMessage, Mode=TwoWay}" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </xceed:BusyIndicator.BusyContent>
        <xceed:BusyIndicator.OverlayStyle>
            <Style TargetType="Rectangle">
                <Setter Property="Fill" Value="Black" />
                <Setter Property="Opacity" Value="0.3" />
            </Style>
        </xceed:BusyIndicator.OverlayStyle>
        <xceed:BusyIndicator.ProgressBarStyle>
            <Style TargetType="ProgressBar">
                <Setter Property="Visibility" Value="Collapsed" />
            </Style>
        </xceed:BusyIndicator.ProgressBarStyle>-->


    <ScrollViewer VerticalScrollBarVisibility="Auto" VerticalAlignment="Stretch" Margin="0,0,0,26">
        <Grid Margin="5,5,5,5">
            <!--Main Grid-->
            <Grid.RowDefinitions>
                <RowDefinition Height="10*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100*"/>
            </Grid.ColumnDefinitions>


            <Border Grid.Row="0" Style="{StaticResource GlobalBorderStyle}">
                <StackPanel Orientation="Vertical">
                    <Label x:Name="lblSectionName" Content="{Binding Caption,  UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" FontWeight="Medium" Grid.Row="0"/>

                </StackPanel>
            </Border>
            <Border Grid.Row="1" Style="{StaticResource GlobalBorderStyle}" Visibility="{Binding VisibilityErrorMessage}">
                <Grid >
                    <TextBlock
                            x:Name="ErrorMessage"
                            Text="{Binding ErrorMessage, Mode=OneWay}"
                           Style="{StaticResource GlobalErrorMessageStyle}"
                        />


                </Grid>
            </Border>

            <Border Grid.Row="2"  Style="{StaticResource GlobalBorderStyle}">


                <Grid >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1.23*"/>
                        <ColumnDefinition Width="1*" />
                        <ColumnDefinition Width="1*"/>

                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <StackPanel  Grid.Column="0" Orientation="Vertical" Margin="5,0,0,0"  >
                        <!-- BEGIN LEFT DATA COLUMN-->

                        <!--  TRAY NUMBERS  -->
                        <StackPanel  x:Name="stackRingStart" Style="{StaticResource GlobalPropertyStackStyle}"  Margin="0,0,20,0" >
                            <TextBlock Text="Tray Numbers : " Style="{StaticResource GlobalUnitsCaption}"  />

                            <CC:NumericTextBox  x:Name="RingStart"
                                    IsWholeNumber="True" 
                                    MaxLength="3" 
                                    ZerosAsNullString="True"
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Text="{Binding RingStart, Mode=TwoWay,  ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}" />
                            <Label Content="-" VerticalContentAlignment="Center" Grid.Column="1"/>
                            <CC:NumericTextBox x:Name="RingEnd"
                                    IsWholeNumber="True" 
                                    MaxLength="3" 
                                    ZerosAsNullString="True"
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Text="{Binding RingEnd, Mode=TwoWay,  ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}" />
                        </StackPanel>
                        <!--  TRAY Type  -->
                        <StackPanel x:Name="stackTrayType" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="32,0,10,0" >
                            <TextBlock Text="Tray Type : " Style="{StaticResource GlobalUnitsCaption}" />
                            <ComboBox x:Name="SelectedRangeTypeName" Style="{StaticResource ComboBoxStyle}"  Width="113" Loaded="cmbTrayTypes_Loaded" IsEnabled="{Binding IsTrayTypeEnabled, Mode=OneWay}"                     
                                    SelectedItem="{Binding  SelectedRangeTypeName, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Height="Auto" />
                        </StackPanel>
                        <!--  ReVAMP TYPE  -->
                        <StackPanel x:Name="stackRevampType" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="10,0,10,0" Visibility="{Binding VisiblilityRevampType}">
                            <TextBlock Text="Revamp Type : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <ComboBox x:Name="RevampStrategy" ItemsSource="{Binding RevampStrategies}" Style="{StaticResource ComboBoxStyle}"  Width="113"                     
                                    SelectedItem="{Binding  RevampStrategy, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Height="Auto" />
                        </StackPanel>
                    </StackPanel>
                    <!-- END LEFT DATA COLUMN-->

                    <StackPanel  Grid.Column="1" Orientation="Vertical" Margin="10,0,4,0">
                        <!-- BEGIN CENTER DATA COLUMN-->

                        <!--  SHELL ID  -->
                        <StackPanel x:Name="stackShellID" Style="{StaticResource GlobalPropertyStackStyle}" Margin="40,10,0,0">
                            <TextBlock Text="Shell ID : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <CC:NumericTextBox  x:Name="ShellID"
                                    Text="{Binding ShellID, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}"
                                    ToolTip="Shell ID"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>

                        <!--  RING WIDTH  -->
                        <StackPanel x:Name="stackRingWidth" Style="{StaticResource GlobalPropertyStackStyle}" Margin="20
                                        ,0,0,0">
                            <TextBlock Text="Ring Width : " Style="{StaticResource GlobalUnitsCaption}"  />

                            <CC:NumericTextBox  x:Name="RingWidth"
                                    Text="{Binding RingWidth, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Ring Width"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>
                        <!--  RING THICKNESS  -->
                        <StackPanel x:Name="stackRingThk" Style="{StaticResource GlobalPropertyStackStyle}" Margin="1,0,0,0" Visibility="{Binding VisibilityMDDraw}">
                            <TextBlock Text="Ring Thickness : " Style="{StaticResource GlobalUnitsCaption}" Foreground="{Binding ForegroundColor_RingThk }"
 />

                            <CC:NumericTextBox  x:Name="RingThk"
                                    Text="{Binding RingThk, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip= "{Binding ToolTip_RingThk}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    ZerosAsNullString="True"
                                     Foreground="{Binding ForegroundColor_RingThk }"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>

                        <!--  TRAY SPACE  -->
                        <StackPanel x:Name="stackRingSpacing" Style="{StaticResource GlobalPropertyStackStyle}" Margin="13,0,0,0">
                            <TextBlock Text="Tray Spacing : " Style="{StaticResource GlobalUnitsCaption}"  />

                            <CC:NumericTextBox  x:Name="RingSpacing"
                                    Text="{Binding RingSpacing, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Tray Spacing"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>


                        <!-- OVERRIDE TRAY OD  -->

                        <StackPanel x:Name="stackOverrideTrayDiameter" Style="{StaticResource GlobalPropertyStackStyle}" Margin="39,0,0,0">
                            <TextBlock Text="Tray OD : " Style="{StaticResource GlobalUnitsCaption}"   Foreground="{Binding ForegroundColor_TrayOD}"/>
                            <CC:NumericTextBox  x:Name="OverrideTrayDiameter"
                                    Text="{Binding OverrideTrayDiameter, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip= "{Binding ToolTip_TrayOD}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    ZerosAsNullString="True"
                                    Foreground="{Binding ForegroundColor_TrayOD}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>



                        <!--  RING CLEARANCE  -->
                        <StackPanel x:Name="stackOverrideRingClearance" Style="{StaticResource GlobalPropertyStackStyle}" Margin="1,0,0,0">
                            <TextBlock Text="Ring Clearance : " Style="{StaticResource GlobalUnitsCaption}" Foreground="{Binding ForegroundColor_RingClearance}" />
                            <CC:NumericTextBox  x:Name="OverrideRingClearance"
                                    Text="{Binding OverrideRingClearance, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_RingClearance}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    ZerosAsNullString="True"
                                    Foreground="{Binding ForegroundColor_RingClearance}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />

                        </StackPanel>


                        <!--  MANHOLE ID  -->

                        <StackPanel x:Name="stackManholeID" Style="{StaticResource GlobalPropertyStackStyle}" Margin="19,0,0,0">
                            <TextBlock Text="Manhole ID : " Style="{StaticResource GlobalUnitsCaption}" Foreground="{Binding ForegroundColor_ManholeID}" />
                            <CC:NumericTextBox  x:Name="ManholeID"
                                    Text="{Binding ManholeID, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_ManholeID}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    ZerosAsNullString="True"
                                    Foreground="{Binding ForegroundColor_ManholeID}"
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                            <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />

                        </StackPanel>


                    </StackPanel>
                    <!-- END CENTER DATA COLUMN -->
                    <!-- BEGIN RIGHT DATA COLUMN-->

                    <StackPanel Orientation="Vertical" Grid.Column="2" Visibility="{Binding VisibilityBeamDesign}" Margin="0,10,0,0" >
                        <StackPanel x:Name="beamWidthStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="43,0,0,0">
                            <TextBlock Text="Beam Width : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamWidthTextBox"
                                                Text="{Binding Width, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                                ToolTip="Beam Width"
                                                PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                                Style="{StaticResource GlobalNumericInputStyle}" 
                                                Margin="1,1,5,0"
                                                PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                                                HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                        </StackPanel>

                        <StackPanel x:Name="beamFlangeThicknessStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="19,0,0,0" >
                            <!--Visibility="{Binding VisibilityECMDDraw}">-->
                            <TextBlock Text="Flange Thickness : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamFlangeThicknessTextBox"
                                                Text="{Binding FlangeThickness, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                                ToolTip="Beam Flange Thickness"
                                                PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                                Style="{StaticResource GlobalNumericInputStyle}" 
                                                Margin="1,1,5,0"
                                                PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                                                HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                        </StackPanel>
                        <StackPanel x:Name="beamWebThicknessStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="30,0,0,0" >
                            <!--Visibility="{Binding VisibilityECMDDraw}">-->
                            <TextBlock Text="Web Thickness : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamWebThicknessTextBox"
                                                Text="{Binding WebThickness, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                                ToolTip="Beam Web Thickness"
                                                PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                                Style="{StaticResource GlobalNumericInputStyle}" 
                                                Margin="1,1,5,0"
                                                PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                                                HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                        </StackPanel>
                        <StackPanel x:Name="beamHeightStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="40,0,0,0"   IsEnabled="{Binding Enable_BeamHeight, Mode=OneWay}"     Visibility="{Binding VisibilityBeamHeight}">
                            <TextBlock Text="Beam Height : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamHeightTextBox"
                                         Text="{Binding Height, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                         ToolTip="Beam Height = Ring Spacing + Flange Thickness"
                                         PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                         Style="{StaticResource GlobalNumericInputStyle}" 
                                         Margin="1,1,5,0"
                                         PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                                             IsReadOnly="True"
                                         HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                        </StackPanel>
                        <StackPanel x:Name="beamOffsetStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="44,0,0,0" IsEnabled="{Binding Enable_BeamOffset, Mode=OneWay}">
                            <TextBlock Text="Beam Offset : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamOffsetTextBox"
                                     Text="{Binding Offset, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                         ToolTip="Beam Offset From Column Centerline"
                                         PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                         Style="{StaticResource GlobalNumericInputStyle}" 
                                         Margin="1,1,5,0"
                                         PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}" HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                            
                        </StackPanel>
                        <!--  OFFSET FACTOR  -->
                        <StackPanel x:Name="offsetFactor" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="8,0,0,0" >
                            <TextBlock Text="Beam Offset Factor : " Style="{StaticResource GlobalUnitsCaption}" />
                            <ComboBox x:Name="cboOffsetFactor"  ItemsSource="{Binding BeamOffsetFactors}"  Style="{StaticResource ComboBoxStyle}"  Width="20"                      
             SelectedItem="{Binding  BeamOffsetFactor, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Height="Auto" ToolTip="{Binding ToolTip_BeamOffset}" />
                        </StackPanel>

                        <!--<StackPanel x:Name="beamWebOpeningSizeStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="11,0,0,0" >
                            <TextBlock Text="Web Opening Size : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamWebOpeningSizeTextBox"
                                                   Text="{Binding WebOpeningSize, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                                   ToolTip="Beam Web Opening Size"
                                                   PrecisionLimit="{Binding DecimalDigitCountOtherField}"
                                                   Style="{StaticResource GlobalNumericInputStyle}"
                                                   Margin="1,1,5,0"
                                                   PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}" HorizontalAlignment="Left"/>
                            <Label Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}" HorizontalAlignment="Left" />
                        </StackPanel>
                        <StackPanel x:Name="beamWebOpeningCountStackPanel" Style="{StaticResource GlobalPropertyStackStyle}" Margin="0,0,0,0" >
                            <TextBlock Text="Web Opening Count : " Style="{StaticResource GlobalUnitsCaption}" HorizontalAlignment="Right" />
                            <CC:NumericTextBox x:Name="beamWebOpeningCountTextBox"
                                                   Text="{Binding WebOpeningCount, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                                   ToolTip="Beam Web Opening Count"
                                                   IsWholeNumber="True"
                                                   Style="{StaticResource GlobalNumericInputStyle}"
                                                   Margin="1,1,5,0"
                                                   PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}" HorizontalAlignment="Left"/>
                        </StackPanel>-->
                    </StackPanel>


                </Grid>
            </Border>
            <!-- BUTTON BAR -->
            <Border Grid.Row="3" Style="{StaticResource GlobalBorderStyle}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="CancelButton" Content="Cancel" Grid.Column="0" Command="{Binding  Command_Cancel}" Style="{StaticResource GlobalButtonStyle}" IsCancel="True" IsEnabled="{Binding IsEnabled}"/>
                    <Button x:Name="OKButton" Content="OK" Grid.Column="3" Command="{Binding Command_Ok}" Style="{StaticResource GlobalButtonStyle}"  IsEnabled="{Binding IsOkBtnEnable}" />

                </Grid>

            </Border>
            <!-- STATUS BAR -->

            <Border  Grid.Row="4" Style="{StaticResource GlobalBorderStyle}">
                <Grid >
                    <Label Content="{Binding GlobalProjectTitle}"  HorizontalAlignment="Left" Width="auto" />
                    <ToggleButton 
                         CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        Style="{StaticResource UnitsToggleButtonStyle_Small}"  
                        IsChecked="{Binding IsEnglishSelected,Mode=TwoWay }"
                        Height="20"
                        FontSize="8"
                        HorizontalAlignment="Right" 
                            Margin="0,0,20,0"
                        />

                </Grid>
            </Border>





        </Grid>
        <!-- END MAIN GRID-->
    </ScrollViewer>
    <!--</xceed:BusyIndicator>-->
</Window>
