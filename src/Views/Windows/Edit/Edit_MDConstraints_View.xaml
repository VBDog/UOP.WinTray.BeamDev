<Window  x:Class="UOP.WinTray.UI.Views.Edit_MDConstraints_View"
         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
         xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
         xmlns:behaviors="clr-namespace:UOP.WinTray.UI.Behaviors"          
         xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
         md:DialogServiceViews.IsRegistered="True"            
         xmlns:waitIndicator="clr-namespace:UOP.WinTray.UI.CustomControls.AdornerControl"
         xmlns:CC="clr-namespace:UOP.WinTray.UI.CustomControls"          
         xmlns:conv="clr-namespace:UOP.WinTray.UI.Converters" 
         xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels" 
         d:DataContext="{d:DesignInstance Type=viewmodels:Edit_MDConstraints_ViewModel}"
         mc:Ignorable="d" 
         SizeToContent="Height" 
         Width="440"
         MaxHeight="{x:Static SystemParameters.MaximizedPrimaryScreenHeight}"          
         Title="Edit Constraints" 
         Style="{StaticResource PopUpWindowTheme}"
         WindowStartupLocation="CenterOwner"
        Loaded="Window_Loaded"
        Unloaded="Window_Unloaded"

         >


    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>

            </Grid.ColumnDefinitions>
            <Border Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource GlobalBorderStyle}">

                <StackPanel  Style="{StaticResource GlobalPropertyStackStyle}" Margin="20,10,0,0">
                    <TextBlock Style="{StaticResource GlobalUnitsCaption}" Text="Apply To : " />
                    <ComboBox Margin="5" ItemsSource="{Binding ApplyTo}" SelectedValue="{Binding SelectedApplyTo}" MinWidth="300"/>

                </StackPanel>
            </Border>
            <Border Grid.Row="1" Style="{StaticResource GlobalBorderStyle}" Visibility="{Binding VisibilityErrorMessage}">
                <Grid >
                    <TextBlock
            x:Name="ErrorMessage"
            Text="{Binding ErrorMessage, Mode=OneWay}"
           Style="{StaticResource GlobalErrorMessageStyle}"
        />
                </Grid>
            </Border>
            <Border Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource GlobalBorderStyle}">

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="1*"/>
                        <RowDefinition Height="1*"/>

                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="15*"/>
                        <ColumnDefinition Width="Auto" />

                        <ColumnDefinition Width="15*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Vertical" Grid.Column="1" Grid.Row="0"  >
                        <!--  Pattern type  -->
                        <StackPanel  Style="{StaticResource GlobalPropertyStackStyle}" Margin="0,10,0,0">
                            <TextBlock Style="{StaticResource GlobalUnitsCaption}" Text="Spout Pattern : " />
                            <ComboBox 
                        Style="{StaticResource ComboBoxStyle}" 
                        HorizontalAlignment="Left" 
                        Width="75"
                        VerticalAlignment="Center" 
                        ItemsSource="{Binding SpoutPatterns}" 
                        SelectedValue="{Binding SelectedSpoutPattern, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!--  Clearance  -->
                        <StackPanel Style="{StaticResource GlobalPropertyStackStyle}" Margin="22,3,0,0" >
                            <TextBlock Text="Clearance : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <CC:NumericTextBox x:Name="Clearance"  
                               Style="{StaticResource GlobalNumericInputStyle}" 
                               PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                               PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                   ZerosAsNullString="True"
                               Text="{Binding Clearance, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                               />
                            <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>
                        <!--  Margin  -->
                        <StackPanel Style="{StaticResource GlobalPropertyStackStyle}"  Margin="36,3,0,0" >
                            <TextBlock Text="Margin : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <CC:NumericTextBox x:Name="txtMargin" Style="{StaticResource GlobalNumericInputStyle}" HorizontalAlignment="Left" 
                                 PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                               PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                            
                               Text="{Binding SpoutMargin, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                               />
                            <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>
                        <!--  Pitch  -->
                        <StackPanel Style="{StaticResource GlobalPropertyStackStyle}"  Margin="5,3,0,0" >
                            <TextBlock Text="Vertical Pitch : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <CC:NumericTextBox x:Name="tbVPitch"  Style="{StaticResource GlobalNumericInputStyle}" HorizontalAlignment ="Left" 
                               Text="{Binding VerticalPitch, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                               PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                />
                            <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>
                        <!--  spout length  -->

                        <StackPanel Style="{StaticResource GlobalPropertyStackStyle}" Margin="2,3,0,0" Visibility="{Binding Visibility_SpoutLength}">
                            <TextBlock Text="Spout Length : " Style="{StaticResource GlobalUnitsCaption}"  />
                            <CC:NumericTextBox x:Name="SpoutLength" Style="{StaticResource GlobalNumericInputStyle}" 
                             
                               PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"
                               PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                               Text="{Binding SpoutLength, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                              
                               />
                            <Label Content = "{Binding LinearUnitsLabel}" Style="{StaticResource GlobalUnitsLabel}"  />
                        </StackPanel>
                    </StackPanel>

                    <!--// <TextBox x:Name="tbVPitch" GotFocus="Got_Focus" behaviors:FocusExtension.IsFocused="{Binding VPitchFocused}" behaviors:EnterKeyHelpers.EnterKeyCommand="{Binding OkCommand}" Style="{StaticResource GlobalNumericInputStyle}"  Grid.Column="1" Grid.Row="3" MaxLength="6" Text="{Binding VerticalPitchValue, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />-->
                    <!--<Label Style="{StaticResource LabelStyle}" Content="{Binding DisplayUnit,Mode=TwoWay}" Grid.Row="3" Grid.Column="1"/>-->



                    <Button Command="{Binding Command_Clear}"  Style="{StaticResource GlobalButtonStyle}" Width="45" Content="Clear" Grid.Row="4" Grid.Column="4"  />
                </Grid>
            </Border>

            <!--BUTTON BAR-->
            <Border Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource GlobalBorderStyle}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="CancelButton" Content="Cancel" Grid.Column="0" Command="{Binding  Command_Cancel}" Style="{StaticResource GlobalButtonStyle}" IsCancel="True" IsEnabled="{Binding IsEnabled}"/>
                    <Button x:Name="OKButton" Content="OK" Grid.Column="3" Command="{Binding Command_Ok}" Style="{StaticResource GlobalButtonStyle}"  IsEnabled="{Binding IsOkBtnEnable}" />

                </Grid>

            </Border>

            <!--<Border  Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource GlobalBorderStyle}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                <Button Command="{Binding Command_Cancel, RelativeSource={RelativeSource AncestorType={x:Type Window}}}" Style="{StaticResource WrapButton}" Content="Cancel" IsCancel="True" Height="25" VerticalAlignment="Bottom" />
                <Button Name="OKButton" Command="{Binding Command_OK}" Style="{StaticResource WrapButton}" Content="OK" HorizontalAlignment="Right" Margin="0,0,6,0" IsEnabled="{Binding IsOkBtnEnable, UpdateSourceTrigger=PropertyChanged}" IsDefault="True"/>
                <Button Command="{Binding Command_Help, RelativeSource={RelativeSource AncestorType={x:Type Window}}}" Style="{StaticResource WrapButton}" Content="Help" Visibility="Hidden"  />
            </StackPanel>

        </Border>-->

            <Border  Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource GlobalBorderStyle}">
                <Grid >
                    <Label Content="{Binding GlobalProjectTitle}"  HorizontalAlignment="Left" Width="auto" />
                    <ToggleButton 
         CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
        Style="{StaticResource UnitsToggleButtonStyle_Small}"  
        IsChecked="{Binding IsEnglishSelected,Mode=TwoWay }"
        Height="20"
        FontSize="8"
        HorizontalAlignment="Right" 
            Margin="0,0,20,0"
        />

                </Grid>
            </Border>

        </Grid>
    </ScrollViewer>
</Window>
