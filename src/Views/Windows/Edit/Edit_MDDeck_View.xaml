<Window x:Class="UOP.WinTray.UI.Views.Edit_MDDeck_View"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:UOP.WinTray.UI.Views.Windows" 
        xmlns:conv="clr-namespace:UOP.WinTray.UI.Converters"
        xmlns:autolocator ="clr-namespace:UOP.WinTray.UI"  
        xmlns:CustomProperty="clr-namespace:UOP.WinTray.UI.Behaviors"
        xmlns:waitIndicator="clr-namespace:UOP.WinTray.UI.CustomControls.AdornerControl"
        xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
        xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels"
        d:DataContext="{d:DesignInstance Type=viewmodels:Edit_MDDeck_ViewModel}"
        md:DialogServiceViews.IsRegistered="True"        
        mc:Ignorable="d" Width="500" SizeToContent="Height"
        MaxHeight="{x:Static SystemParameters.MaximizedPrimaryScreenHeight}"        
        xmlns:data="clr-namespace:UOP.WinTray.UI.ViewModels"
        xmlns:CC="clr-namespace:UOP.WinTray.UI.CustomControls"
        xmlns:winTrayUI="clr-namespace:UOP.WinTray.UI" 
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
         Title="Edit Deck Properties" 
        Style="{StaticResource PopUpWindowTheme}" 
        WindowStartupLocation="CenterOwner"
        FocusManager.FocusedElement="{Binding ElementName=Fp}" 
          Loaded="Window_Loaded"
        Unloaded="Window_Unloaded"
        >
    <Window.Resources>
         <conv:EnumToCollectionConverter x:Key="enumToCollectionConverter"/>

    </Window.Resources>


    <!--<xceed:BusyIndicator IsBusy="{Binding IsBusyVisible,Mode=TwoWay}" Grid.Column="0">
        <xceed:BusyIndicator.BusyContent>
            <StackPanel Orientation="Horizontal">
                <StackPanel Margin="5,0">
                    <waitIndicator:LoadingWait/>
                    <TextBlock Text="{Binding BusyMessage, Mode=TwoWay}" FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </xceed:BusyIndicator.BusyContent>
        <xceed:BusyIndicator.OverlayStyle>
            <Style TargetType="Rectangle">
                <Setter Property="Fill" Value="Black" />
                <Setter Property="Opacity" Value="0.3" />
            </Style>
        </xceed:BusyIndicator.OverlayStyle>
        <xceed:BusyIndicator.ProgressBarStyle>
            <Style TargetType="ProgressBar">
                <Setter Property="Visibility" Value="Collapsed" />
            </Style>
        </xceed:BusyIndicator.ProgressBarStyle>-->
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <Grid Margin="5,5,5,5">
                <!--Main Grid-->
                <Grid.RowDefinitions>
                    <RowDefinition Height="10*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100*"/>
                </Grid.ColumnDefinitions>


                <Border Grid.Row="0" Style="{StaticResource GlobalBorderStyle}">
                    <StackPanel Orientation="Vertical">
                        <Label x:Name="lblSectionName" Content="Deck Data Input" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="15" FontWeight="Medium" Grid.Row="0"/>

                    </StackPanel>
                </Border>
                <Border Grid.Row="1" Style="{StaticResource GlobalBorderStyle}" Visibility="{Binding VisibilityErrorMessage}">
                    <Grid >
                        <TextBlock
                            x:Name="ErrorMessage"
                            Text="{Binding ErrorMessage, Mode=OneWay}"
                           Style="{StaticResource GlobalErrorMessageStyle}"
                        />
                    </Grid>
                </Border>
                <Border Grid.Row="2"  Style="{StaticResource GlobalBorderStyle}">


                    <Grid >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="25*"/>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="25*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <StackPanel  Grid.Column="1" Orientation="Vertical" Margin="0,0,0,0" HorizontalAlignment="Stretch">
                            <!-- BEGIN LEFT DATA COLUMN-->
                            <!--  Fp  -->
                            <StackPanel x:Name="stackFp" Style="{StaticResource GlobalPropertyStackStyle}" Margin="0,0,0,0">
                                <TextBlock Text="Deck Panel Percent Open Area (Fp) : " Style="{StaticResource GlobalUnitsCaption}"  />

                                <CC:NumericTextBox  x:Name="Fp"
                                    Text="{Binding Fp, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Percent Open"
                                    PrecisionLimit="2" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="2"/>
                                <Label Content = "%" Style="{StaticResource GlobalUnitsLabel}"  />
                            </StackPanel>
                            <!--  Dp  -->
                            <StackPanel x:Name="stackDp" Style="{StaticResource GlobalPropertyStackStyle}" Margin="16,0,0,0">
                                <TextBlock Text="Deck Perforation Diameter (Dp) : " Style="{StaticResource GlobalUnitsCaption}"  />

                                <CC:NumericTextBox  x:Name="PerfDiameter"
                                    Text="{Binding PerfDiameter, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Perforation Diameter"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                     PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                                <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                            </StackPanel>
                            <!-- CDP -->
                            <StackPanel x:Name="stackCDP" Style="{StaticResource GlobalPropertyStackStyle}" Margin="76,0,0,0" Visibility="{Binding VisibilityECMD}">
                                <TextBlock Text="Deflect Height (CDP) : " Style="{StaticResource GlobalUnitsCaption}" Foreground="{Binding ForegroundColor_CDP}" />

                                <CC:NumericTextBox  x:Name="CDP"
                                    Text="{Binding CDP, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip ="{Binding ToolTip_CDP}"
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    Foreground="{Binding ForegroundColor_CDP}"
                                   PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                                <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                            </StackPanel>

                            <!--  Fs  -->
                            <StackPanel x:Name="stackSlottingPercentage" Style="{StaticResource GlobalPropertyStackStyle}" Margin="100,0,0,0" Visibility="{Binding VisibilityECMD}">
                                <TextBlock Text="Slotting Pct. (Fs) : " Style="{StaticResource GlobalUnitsCaption}"  />

                                <CC:NumericTextBox  x:Name="SlottingPercentage"
                                    Text="{Binding SlottingPercentage, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Slotting Percentage (Fs)"
                                    PrecisionLimit="4" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="2"/>
                                <Label  Content = "%"  Style="{StaticResource GlobalUnitsLabel}"  />
                            </StackPanel>
                            <!--  Manway count  -->
                            <StackPanel x:Name="stackManwayCount"  Style="{StaticResource GlobalPropertyStackStyle}" Margin="105,4,0,0" Visibility="{Binding VisibilityMDSpout}">
                                <TextBlock Text="Manway Count : " Style="{StaticResource GlobalUnitsCaption}"  />

                                <CC:NumericTextBox  x:Name="ManwayCount"
                                    Text="{Binding ManwayCount, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="Required Manway Count"
                                    IsWholeNumber="True"
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                    Margin="1,1,5,0"
                                    PreDecimalLengthLimit="2"/>

                                <!--<Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />-->
                            </StackPanel>

                            <!-- Slot type  -->
                            <StackPanel x:Name="stackSlotType" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="100,5,0,0" Visibility="{Binding VisibilityECMD}" >
                                <TextBlock Text="ECMD Slot Type : " Style="{StaticResource GlobalUnitsCaption}" />
                                <ComboBox
                                    ItemsSource="{Binding SlotType, Converter={StaticResource enumToCollectionConverter}, Mode=TwoWay}"
                                    SelectedValue="{Binding SlotType}" 
                                    Style="{StaticResource ComboBoxStyle}" 
                                    SelectedValuePath="Item2" 
                                    DisplayMemberPath="Item1" 
                                    MinWidth="80"
                                 />
                            </StackPanel>

                            <!-- Punch Direction  -->
                            <StackPanel x:Name="stackPunchDirection" Style="{StaticResource GlobalPropertyStackStyle}"  Margin="100,0,0,0" >
                                <TextBlock Text="Punch Direction : " Style="{StaticResource GlobalUnitsCaption}" />
                                <ComboBox
                                    ItemsSource="{Binding PunchDirection, Converter={StaticResource enumToCollectionConverter}, Mode=TwoWay}"
                                    SelectedValue="{Binding PunchDirection}" 
                                    Style="{StaticResource ComboBoxStyle}" 
                                    SelectedValuePath="Item2" 
                                    DisplayMemberPath="Item1" 
                                 />
                            </StackPanel>

                                <!-- Device  -->
                            <StackPanel x:Name="stackFlowDeviceType" Style="{StaticResource GlobalPropertyStackStyle}" Width="Auto" Margin="92,0,0,0"  Visibility="{Binding VisibilityMDSpout}">
                                <TextBlock Text="Flow Device Type : " Style="{StaticResource GlobalUnitsCaption}" />
                                <ComboBox 
                                    ItemsSource="{Binding FlowDeviceType, Converter={StaticResource enumToCollectionConverter}, Mode=TwoWay}"
                                    SelectedValue="{Binding FlowDeviceType}" 
                                    Style="{StaticResource ComboBoxStyle}" 
                                    SelectedValuePath="Item2" 
                                    DisplayMemberPath="Item1" 
                                 />

                            </StackPanel>
                            <!-- FEDHeight  -->
                            <StackPanel x:Name="stackFEDHeight" Style="{StaticResource GlobalPropertyStackStyle}" Margin="57,0,0,0" Visibility="{Binding Visiblity_DeviceData}">
                                <TextBlock Text="{Binding Caption_FEDorAPPHeight}"  Style="{StaticResource GlobalUnitsCaption}"   Foreground="{Binding ForegroundColor_FEDorAPPHeight}"/>

                                <CC:NumericTextBox  x:Name="FEDorAPPHeight"
                                    Text="{Binding FEDorAPPHeight, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=LostFocus}"
                                    ToolTip="{Binding ToolTip_FEDorAPPHeight}" 
                                    PrecisionLimit="{Binding DecimalDigitCountOtherField}" 
                                    Style="{StaticResource GlobalNumericInputStyle}" 
                                     Foreground="{Binding ForegroundColor_FEDorAPPHeight}"
                                    Margin="1,1,5,0" 
                                    PreDecimalLengthLimit="{Binding PreDecimalDigitCountOtherProp}"/>
                                <Label  Content = "{Binding LinearUnitsLabel}"  Style="{StaticResource GlobalUnitsLabel}"  />
                            </StackPanel>
                          
                            <!-- Bubble Promoters  -->
                            <StackPanel x:Name="stackHasBubblePromoters" Style="{StaticResource GlobalPropertyStackStyle}" Margin="88,3,0,0" Visibility="{Binding VisibilityMDSpout}" >
                                <TextBlock Text="Bubble Promoters : " Style="{StaticResource GlobalUnitsCaption}"  />
                                <CheckBox  x:Name="HasBubblePromoters"
                                     ToolTip="Has Bubble Promoters"
                                    CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                                    Style="{StaticResource YesNoSlider}"  
                                    IsChecked="{Binding HasBubblePromoters, Mode=TwoWay }"
                                />
                            </StackPanel>
                            <!-- tiled Decs -->
                            <StackPanel x:Name="stackHasTiledDecks" Style="{StaticResource GlobalPropertyStackStyle}" Margin="122,3,0,0"  Visibility="{Binding VisibilityMDSpout}">
                                <TextBlock Text="Tiled Decks : " Style="{StaticResource GlobalUnitsCaption}"  />
                                <CheckBox  x:Name="HasTiledDecks"
                                     ToolTip="Has Tiled Decks"
                                    CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                                    Style="{StaticResource YesNoSlider}"  
                                    IsChecked="{Binding HasTiledDecks, Mode=TwoWay }"
                                />
                            </StackPanel>


                        </StackPanel>

                        
                        
                        <StackPanel  Grid.Column="2" Orientation="Vertical" Margin="10,0,10,0" Grid.ColumnSpan="2" >
                            <!-- BEGIN RIGHT DATA COLUMN-->
                            
                        </StackPanel>
                    </Grid>
                </Border>
                <!-- BUTTON BAR -->
                <Border Grid.Row="3" Style="{StaticResource GlobalBorderStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <Button x:Name="CancelButton" Content="Cancel" Grid.Column="0" Command="{Binding  Command_Cancel}" Style="{StaticResource GlobalButtonStyle}" IsCancel="True" IsEnabled="{Binding IsEnabled}"/>
                        <Button x:Name="OKButton" Content="OK" Grid.Column="3" Command="{Binding Command_Ok}" Style="{StaticResource GlobalButtonStyle}"  IsEnabled="{Binding IsOkBtnEnable}" />

                    </Grid>

                </Border>
                <!-- STATUS BAR -->

                <Border  Grid.Row="4" Style="{StaticResource GlobalBorderStyle}">
                    <Grid >
                        <Label Content="{Binding GlobalProjectTitle}"  HorizontalAlignment="Left" Width="auto" />
                        <ToggleButton 
                         CommandParameter="{Binding IsChecked, RelativeSource={RelativeSource Self}}"
                        Style="{StaticResource UnitsToggleButtonStyle_Small}"  
                        IsChecked="{Binding IsEnglishSelected,Mode=TwoWay }"
                        Height="20"
                        FontSize="8"
                        HorizontalAlignment="Right" 
                            Margin="0,0,20,0"
                        />

                    </Grid>
                </Border>
            </Grid>

  
        </ScrollViewer>
    <!--</xceed:BusyIndicator>-->
</Window>
