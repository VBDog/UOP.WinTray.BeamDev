<UserControl x:Class="UOP.WinTray.UI.Views.UOPPropertyListView"
               xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UOP.WinTray.UI.Views"
             xmlns:behaviors="clr-namespace:UOP.WinTray.UI.Behaviors"
             xmlns:converters="clr-namespace:UOP.WinTray.UI.Converters"
             xmlns:autolocator ="clr-namespace:UOP.WinTray.UI"
             xmlns:md="https://github.com/fantasticfiasco/mvvm-dialogs"
             md:DialogServiceViews.IsRegistered="True"
             autolocator:ViewModelLocator.IsAutomaticLocator="True"   
             xmlns:viewmodels="clr-namespace:UOP.WinTray.UI.ViewModels"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             d:DataContext="{d:DesignInstance Type=viewmodels:UOPPropertyListViewModel}"
             mc:Ignorable="d" 
             Name = "propertyList"
             d:DesignHeight="100" d:DesignWidth="250"
             Unloaded="propertyList_Unloaded"
             
            >
    <!--VerticalAlignment="Stretch"
             HorizontalAlignment="Stretch"-->
    

    <UserControl.Resources>
        <converters:UniversalValueConverter x:Key="UniversalValueConverter"/>
        <Style TargetType="Label" x:Key="txt_label">
            <Setter Property="Foreground" Value="Blue"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="10"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="txt_Column1">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Height" Value="Auto" />
            <Setter Property="Width" Value="Auto"/>
            <Setter Property="Margin" Value="0,-3,0,0"/>
        </Style>
        <Style TargetType="TextBlock" x:Key="txt_Column2">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Height" Value="Auto"/>
            <Setter Property="Width" Value="Auto"/>
            <Setter Property="Margin" Value="0,-3,0,0"/>
        </Style>
        <DataTemplate x:Key="Header">
            <TextBlock FontWeight="Bold" Text="{Binding}"/>
        </DataTemplate>

        <DataTemplate x:Key="DisplayName">
            <TextBlock Text="{Binding DisplayName}"  Foreground="{Binding DisplayColor,Converter={StaticResource UniversalValueConverter}}" Style="{StaticResource txt_Column1}" />
        </DataTemplate>

        <DataTemplate x:Key="Value">
            <TextBlock Text="{Binding DisplayValueStringFormatted}" Foreground="{Binding DisplayColor, Converter={StaticResource UniversalValueConverter}}" Style="{StaticResource txt_Column2}" />
        </DataTemplate>
    </UserControl.Resources>
  
        <StackPanel Orientation="Vertical">
   
            <Label x:Name="lblCaption" Grid.Row="0"  Content="{Binding ListCaption, ElementName=propertyList}" Height="Auto" Style="{StaticResource txt_label}"/>

            <ListView x:Name="PropertyList" Grid.Row="1" ItemsSource="{Binding Properties}"  Loaded="PropertyList_Loaded"
                    VerticalContentAlignment="Top" 
                             
                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                    ScrollViewer.HorizontalScrollBarVisibility="Auto"
                    ScrollViewer.CanContentScroll="True"
                >
                <ListView.Resources>
                    <Style TargetType="GridViewColumnHeader">
                        <Setter Property="Height" Value="0" />
                        <Setter Property="Visibility" Value="Collapsed" />
                    </Style>
                </ListView.Resources>

                <ListView.View>

                    <GridView>

                        <GridView.Columns>
                            <GridViewColumn Header="Property" HeaderTemplate="{StaticResource Header}" CellTemplate="{StaticResource DisplayName}" />
                            <GridViewColumn Header="Value" HeaderTemplate="{StaticResource Header}" CellTemplate="{StaticResource Value}"/>
                            <!--<GridViewColumn Header="Key" Width="0" HeaderTemplate="{StaticResource Header}" CellTemplate="{StaticResource Source}" />-->
                        </GridView.Columns>
                    </GridView>
                </ListView.View>


            </ListView>
            <Label x:Name="lblFooter" Grid.Row="2" Content="{Binding ListFooter,ElementName=propertyList}" Style="{StaticResource txt_label}"/>

        </StackPanel>
  
</UserControl>
