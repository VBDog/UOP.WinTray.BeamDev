<UserControl x:Class="UOP.DXFGraphicsControl.DXFViewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:UOP.DXFGraphicsControl"
             mc:Ignorable="d" 
             Name="viewerControl"
             d:DesignHeight="450" d:DesignWidth="800" 
             Background="Transparent"
             MouseWheel="Canvas_MouseWheel"
             MouseMove="Canvas_MouseMove"
             MouseLeftButtonDown="Canvas_LeftButtonDown"
             MouseLeftButtonUp="Canvas_LeftButtonUp"
             MouseRightButtonDown="Canvas_RightButtonDown"
             MouseRightButtonUp="Canvas_RightButtonUp"
             LostMouseCapture="Canvas_LostMouseCapture">
    <Grid ClipToBounds="True">
        <Canvas Name="canvas" Panel.ZIndex="2"
                Width="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualWidth}"
                Height="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualHeight}"/>
        <Canvas Name="overlaycanvas" Panel.ZIndex="3" Background="Transparent"
                Width="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualWidth}"
                Height="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualHeight}"/>
        <Canvas Name="staticoverlaycanvas" Panel.ZIndex="4" Background="Transparent"
                Width="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualWidth}"
                Height="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualHeight}"/>
        <Image Name="staticbmpoverlaycanvas" Panel.ZIndex="1" 
               Width="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualWidth}"
                Height="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualHeight}"/>
        <Canvas Name="DragSelectionCanvas" Visibility="Collapsed"
                Width="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualWidth}"
                Height="{Binding RelativeSource={RelativeSource FindAncestor, 
                                               AncestorType=Grid, 
                                               AncestorLevel=1},
                Path=ActualHeight}">
            <Border 
                Name="DragSelectionBorder"
                BorderBrush="Blue"
                BorderThickness="1"
                Background="LightBlue"
                CornerRadius="1"
                Opacity="0.5"
            />
        </Canvas>
    </Grid>
</UserControl>
